layui.use(["form","layer","jquery","table","element"],function(){var l=layui.jquery,e=layui.form,n=layui.table,i=(layui.element,layui.layer),o=[];n.render({elem:"#contact_table_container",id:"contact_table",page:!1,data:o,cols:[[{field:"name",align:"center",title:"姓名"},{field:"position",align:"center",title:"职位"},{field:"cellphoneNo",align:"center",title:"移动电话"},{field:"email",align:"center",title:"Email"},{field:"remark",align:"center",title:"备注"},{align:"center",title:"操作",toolbar:"#table_control_bar"}]],loading:!0}),e.render(),n.reload("contact_table"),l("#addNewConnectorBtn").on("click",function(){i.open({content:l("#addContect").html(),type:1,anim:2,title:"编辑联系人",btn:["保存","取消"],skin:"layui-layer-rim",area:["500px","90%"],success:function(){l(".layui-layer-btn0",parent.document).hide()},yes:function(e,t){var a={id:(new Date).getTime(),name:l("#tmp_add_name").val(),position:l("#tmp_add_position").val(),cellphoneNo:l("#tmp_add_cellphoneNo").val(),email:l("#tmp_add_email").val(),remark:l("#tmp_add_remark").val()};""!=a.name&&""!=a.position&&""!=a.cellphoneNo&&""!=a.email?(o.push(a),n.reload("contact_table",{data:o}),i.close(e)):i.msg("字段[姓名、职位、电话、email]均不能为空。")},end:function(){l(".layui-layer-btn0",parent.document).show()}})}),n.on("tool(contact_table_container)",function(e){e.data;var t=e.event;e.tr;if("deletContect"===t){for(var a=[],l=0;l<o.length;l++)o[l].id!=e.data.id&&a.push(o[l]);n.reload("contact_table",{data:a}),o=a}})});