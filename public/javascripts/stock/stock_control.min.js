layui.config({base:"/layui/lay/modules/"}).use(["laydate","btable","form"],function(){var n=layui.jquery,e=layui.btable(),l=(layui.form(),layui.layer);n("#add").on("click",function(){var e=l.open({content:"/stock/stock_edit",type:2,anim:4,title:"编辑库存",btn:["保存","取消"],success:function(e,t){}});l.full(e)}),e.set({openWait:!0,height:120,elem:"#table_content",url:"/BeginnerAdmin/datas/btable_data.json",pageSize:10,params:{t:(new Date).getTime()},columns:[{fieldName:"昵称",field:"name",sortable:!0},{fieldName:"加入时间",field:"createtime",sortable:!0},{fieldName:"签名",field:"sign",format:function(e,t){return t.sign}},{fieldName:"操作",field:"id",format:function(e,t){return'<input type="button" value="编辑" data-action="edit" data-id="'+e+'" class="layui-btn layui-btn-mini" /> <input type="button" value="删除" data-action="del" data-id="'+e+'" class="layui-btn layui-btn-mini layui-btn-danger" />'}}],even:!0,field:"id",checkbox:!1,paged:!0,singleSelect:!1,onSuccess:function(e){e.children("tr").each(function(){n(this).children("td:last-child").children("input").each(function(){var t=n(this),a=t.data("action"),i=t.data("id");t.on("click",function(){switch(a){case"edit":l.msg(a+":"+i);break;case"del":var e=t.parent("td").siblings("td[data-field=name]").text();l.confirm('确定要删除[ <span style="color:red;">'+e+"</span> ] ？",{icon:3,title:"系统提示"},function(e){t.parent("td").parent("tr").remove(),l.msg("删除成功.")})}})})})}}),e.render()});