layui.use(["form","layer","jquery","table","element"],function(){var n=layui.jquery,e=layui.form,l=layui.table,i=(layui.element,layui.layer),o=[];l.render({elem:"#contact_table_container",id:"contact_table",page:!1,data:o,cols:[[{field:"name",minWidth:"120",align:"center",title:"姓名"},{field:"position",minWidth:"120",align:"center",title:"职位"},{field:"cellphoneNo",minWidth:"120",align:"center",title:"移动电话"},{field:"email",minWidth:"240",align:"center",title:"Email"},{field:"remark",minWidth:"240",align:"center",title:"备注"},{align:"center",minWidth:"120",title:"操作",toolbar:"#table_control_bar"}]],loading:!0}),e.render(),l.reload("contact_table"),n("#addNewConnectorBtn").on("click",function(){i.open({content:n("#addContect").html(),type:1,anim:2,title:"编辑联系人",btn:["保存","取消"],skin:"layui-layer-rim",area:["500px","90%"],success:function(){n(".layui-layer-btn0",parent.document).hide()},yes:function(e,t){var a={id:(new Date).getTime(),name:n("#tmp_add_name").val(),position:n("#tmp_add_position").val(),cellphoneNo:n("#tmp_add_cellphoneNo").val(),email:n("#tmp_add_email").val(),remark:n("#tmp_add_remark").val()};""!=a.name&&""!=a.position&&""!=a.cellphoneNo&&""!=a.email?(o.push(a),l.reload("contact_table",{data:o}),i.close(e)):i.msg("字段[姓名、职位、电话、email]均不能为空。")},end:function(){n(".layui-layer-btn0",parent.document).show()}})}),l.on("tool(contact_table_container)",function(e){e.data;var t=e.event;e.tr;if("deletContect"===t){for(var a=[],n=0;n<o.length;n++)o[n].id!=e.data.id&&a.push(o[n]);l.reload("contact_table",{data:a}),o=a}})});