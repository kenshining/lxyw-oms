layui.use(["form","layer","table","jquery","element"],function(){var t=layui.jquery,e=layui.form,n=layui.layer,i=layui.table,d=(layui.element,[]);i.render({elem:"#cus_table_container",id:"cus_table",page:!1,data:d,cols:[[{field:"name",align:"center",title:"姓名"},{field:"cellphoneNo",align:"center",title:"移动电话"},{field:"email",align:"center",title:"Email"},{field:"address",align:"center",title:"地址"},{align:"center",title:"操作",toolbar:"#table_control_bar"}]],loading:!0}),e.render(),i.reload("cus_table"),t("#addNewCusBtn").on("click",function(){n.open({content:t("#addCustom").html(),type:1,anim:2,title:"编辑联系人",btn:["保存","取消"],skin:"layui-layer-rim",area:["500px","90%"],success:function(){t(".layui-layer-btn0",parent.document).hide()},yes:function(e,a){var l={id:(new Date).getTime(),name:t("#tmp_add_name").val(),cellphoneNo:t("#tmp_add_cellphoneNo").val(),email:t("#tmp_add_email").val(),address:t("#tmp_add_address").val()};""!=l.name&&""!=l.address&&""!=l.cellphoneNo&&""!=l.email?(d.push(l),i.reload("cus_table",{data:d}),n.close(e)):n.msg("字段[姓名、地址、电话、email]均不能为空。")},end:function(){t(".layui-layer-btn0",parent.document).show()}})}),i.on("tool(cus_table_container)",function(e){e.data;var a=e.event;e.tr;if("deletCusbtn"===a){for(var l=[],t=0;t<d.length;t++)d[t].id!=e.data.id&&l.push(d[t]);i.reload("cus_table",{data:l}),d=l}})});