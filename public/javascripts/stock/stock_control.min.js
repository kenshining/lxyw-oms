layui.config({base:"/javascripts/layUI/"}).use(["laydate","btable"],function(){var a=layui.jquery,t=layui.btable(),l=layui.layer;a("#add").on("click",function(){a.get("/stock/stock_edit",{},function(t){l.open({content:t,type:1,anim:4,title:"添加表单",area:["100%","100%"],btn:["保存","取消"],full:function(e){var t=window.top===window.self?window:parent.window;a(t).on("resize",function(){var t=a(this);e.width(t.width()).height(t.height()).css({top:0,left:0}),e.children("div.layui-layer-content").height(t.height()-95)})}})})}),t.set({openWait:!0,height:"100%",elem:"#table_content",url:"/BeginnerAdmin/datas/btable_data.json",pageSize:10,params:{t:(new Date).getTime()},columns:[{fieldName:"昵称",field:"name",sortable:!0},{fieldName:"加入时间",field:"createtime",sortable:!0},{fieldName:"签名",field:"sign",format:function(t,e){return console.log(t),console.log(e),e.sign}},{fieldName:"操作",field:"id",format:function(t,e){return'<input type="button" value="编辑" data-action="edit" data-id="'+t+'" class="layui-btn layui-btn-mini" /> <input type="button" value="删除" data-action="del" data-id="'+t+'" class="layui-btn layui-btn-mini layui-btn-danger" />'}}],even:!0,field:"id",checkbox:!1,paged:!0,singleSelect:!1,onSuccess:function(t){t.children("tr").each(function(){a(this).children("td:last-child").children("input").each(function(){var e=a(this),i=e.data("action"),n=e.data("id");e.on("click",function(){switch(i){case"edit":l.msg(i+":"+n);break;case"del":var t=e.parent("td").siblings("td[data-field=name]").text();l.confirm('确定要删除[ <span style="color:red;">'+t+"</span> ] ？",{icon:3,title:"系统提示"},function(t){e.parent("td").parent("tr").remove(),l.msg("删除成功.")})}})})})}}),t.render()});