layui.config({base:"/layui/lay/modules/"}).use(["form","layer","btable"],function(){var e=layui.jquery,i=(layui.form(),layui.btable());layui.layer;e("#selectSupplier").on("click",function(){fadeDiv("#product_form","#supplier_select"),findSupplierByPage(i)})});var fadeDiv=function(e,i){$(e).fadeOut(50,function(){$(i).fadeIn(50)})},findSupplierByPage=function(e){e.set({openWait:!0,elem:"#supplier_List",height:120,url:"/BeginnerAdmin/datas/btable_data.json",pageSize:10,params:{t:(new Date).getTime()},columns:[{fieldName:"昵称",field:"name",sortable:!0},{fieldName:"加入时间",field:"createtime",sortable:!0},{fieldName:"签名",field:"sign",format:function(e,i){return i.sign}},{fieldName:"操作",field:"id",format:function(e,i){return'<input type="button" value="选择供应商" data-action="edit" data-id="'+e+'" class="layui-btn layui-btn-mini"  onclick="fadeDiv(\'#supplier_select\',\'#product_form\');"/> '}}],even:!0,field:"id",checkbox:!1,paged:!0,singleSelect:!1,onSuccess:function(e){e.children("tr").each(function(){$(this).children("td:last-child").children("input").each(function(){var i=$(this),a=i.data("action"),t=i.data("id");i.on("click",function(){switch(a){case"edit":layer.msg(a+":"+t);break;case"del":var e=i.parent("td").siblings("td[data-field=name]").text();layer.confirm('确定要删除[ <span style="color:red;">'+e+"</span> ] ？",{icon:3,title:"系统提示"},function(e){i.parent("td").parent("tr").remove(),layer.msg("删除成功.")})}})})})}}),e.render()};