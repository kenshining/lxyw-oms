layui.config({base:"/javascripts/layUI/"}).use(["paging","code","form","laydate","btable"],function(){layui.code();var n=layui.jquery,e=(layui.form(),layui.laydate,layui.btable()),t=layui.layer;layui.paging();n("#add").on("click",function(){t.open({content:"",type:1,anim:4,title:"添加表单",area:["100%","100%"],btn:["保存","取消"],full:function(t){var e=window.top===window.self?window:parent.window;n(e).on("resize",function(){var e=n(this);t.width(e.width()).height(e.height()).css({top:0,left:0}),t.children("div.layui-layer-content").height(e.height()-95)})}})});e.set({openWait:!0,elem:"#table_content",url:"/BeginnerAdmin/datas/btable_data.json",pageSize:3,params:{t:(new Date).getTime()},columns:[{fieldName:"昵称",field:"name",sortable:!0},{fieldName:"加入时间",field:"createtime",sortable:!0},{fieldName:"签名",field:"sign",format:function(e,t){return console.log(e),console.log(t),t.sign}},{fieldName:"操作",field:"id",format:function(e,t){return'<input type="button" value="编辑" data-action="edit" data-id="'+e+'" class="layui-btn layui-btn-mini" /> <input type="button" value="删除" data-action="del" data-id="'+e+'" class="layui-btn layui-btn-mini layui-btn-danger" />'}}],even:!0,field:"id",checkbox:!1,paged:!0,singleSelect:!1,onSuccess:function(e){e.children("tr").each(function(){n(this).children("td:last-child").children("input").each(function(){var t=n(this),i=t.data("action"),a=t.data("id");t.on("click",function(){switch(i){case"edit":layerTips.msg(i+":"+a);break;case"del":var e=t.parent("td").siblings("td[data-field=name]").text();layerTips.confirm('确定要删除[ <span style="color:red;">'+e+"</span> ] ？",{icon:3,title:"系统提示"},function(e){t.parent("td").parent("tr").remove(),layerTips.msg("删除成功.")})}})})})}}),e.render()});